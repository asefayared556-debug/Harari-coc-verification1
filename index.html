<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Harari Regional State - Certificate Verification</title>
    <style>
        :root {
            --brand-green: #1E9A2B;   /* "CERTIFICATE IS VALID" */
            --brand-blue:  #1E4EA8;   /* logo blue */
            --brand-purple:#9B59B6;   /* logo purple */
            --text-dark:   #333333;   /* labels */
            --muted:       #777777;   /* small text */
            --row-bg:      #f2f2f2;   /* table row background */
            --white:       #ffffff;
            --page-bg:     #fafafa;
            --error-red:   #e74c3c;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: var(--page-bg);
            color: var(--text-dark);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 980px;
            margin: 0 auto;
            background: var(--white);
            box-shadow: 0 2px 12px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        /* Header Styles */
        header {
            display: flex;
            align-items: center;
            padding: 20px 30px;
            gap: 18px;
            border-bottom: 1px solid #e6e6e6;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        }

        .logo {
            width: 72px;
            height: 72px;
            border-radius: 36px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.15);
            flex: 0 0 72px;
            overflow: hidden;
        }

        .logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            display: block;
        }

        .org {
            line-height: 1.3;
        }

        .org h2 {
            margin: 0;
            font-size: 20px;
            color: var(--brand-blue);
            letter-spacing: 0.6px;
            font-weight: 700;
        }

        .org p {
            margin: 4px 0 0 0;
            font-size: 14px;
            color: var(--muted);
        }

        /* Verification Section */
        .verification-section {
            padding: 30px;
        }

        .section-title {
            text-align: center;
            margin-bottom: 25px;
        }

        .section-title h2 {
            font-size: 24px;
            color: var(--brand-blue);
            margin-bottom: 8px;
        }

        .instructions {
            color: var(--muted);
            font-size: 16px;
            margin-bottom: 20px;
            text-align: center;
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-dark);
            font-size: 16px;
        }

        input[type="text"] {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        input[type="text"]:focus {
            border-color: var(--brand-blue);
            outline: none;
            box-shadow: 0 0 0 3px rgba(30, 78, 168, 0.1);
        }

        /* QR Scanner Styles */
        .qr-option {
            text-align: center;
            margin: 15px 0;
            color: var(--muted);
            font-size: 16px;
        }

        .or-divider {
            display: flex;
            align-items: center;
            margin: 20px 0;
        }

        .or-divider::before,
        .or-divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: #e0e0e0;
        }

        .or-divider span {
            padding: 0 15px;
            color: var(--muted);
        }

        .qr-scanner-container {
            margin: 20px 0;
            display: none;
        }

        #qr-reader {
            width: 100%;
            margin: 0 auto;
        }

        #qr-reader__dashboard_section {
            padding: 15px;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .btn {
            padding: 14px 24px;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            flex: 1;
            text-align: center;
        }

        .submit-btn {
            background: linear-gradient(135deg, var(--brand-blue), var(--brand-purple));
            color: white;
        }

        .qr-btn {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
        }

        .cancel-scan-btn {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            display: none;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .submit-btn:hover {
            box-shadow: 0 4px 12px rgba(30, 78, 168, 0.3);
        }

        .qr-btn:hover {
            box-shadow: 0 4px 12px rgba(39, 174, 96, 0.3);
        }

        /* Example Section */
        .example {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 25px;
            border-left: 4px solid var(--brand-blue);
        }

        .example-title {
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--brand-blue);
        }

        .example-code {
            font-family: monospace;
            background-color: #e9ecef;
            padding: 5px 10px;
            border-radius: 4px;
            display: inline-block;
            font-weight: 600;
        }

        /* Result Sections */
        .result-section {
            display: none;
            margin-top: 30px;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .title {
            text-align: center;
            padding: 18px 12px;
        }

        .title h1 {
            margin: 0;
            color: var(--brand-green);
            font-size: 30px;
            font-weight: 700;
            letter-spacing: 1px;
        }

        .table-wrap {
            padding: 8px 20px 0 20px;
        }

        .cert-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 8px;
            font-size: 16px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.05);
            border-radius: 6px;
            overflow: hidden;
        }

        .cert-table th, .cert-table td {
            padding: 18px 20px;
            border-bottom: 1px solid #e9e9e9;
            vertical-align: middle;
        }

        .cert-table th {
            width: 230px;
            text-align: left;
            background: linear-gradient(#f7f7f7, #f1f1f1);
            font-weight: 700;
            color: var(--text-dark);
        }

        .cert-table td {
            background: var(--row-bg);
            text-align: right;
            font-style: italic;
            color: var(--text-dark);
        }

        .cert-table tr:last-child th,
        .cert-table tr:last-child td {
            border-bottom: none;
        }

        .invalid-result {
            text-align: center;
            padding: 40px 20px;
        }

        .invalid-title {
            color: var(--error-red);
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .invalid-message {
            color: var(--muted);
            font-size: 16px;
        }

        .small {
            font-size: 13px;
            color: var(--muted);
            font-style: normal;
            text-align: left;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 20px;
            color: var(--muted);
            font-size: 14px;
            border-top: 1px solid #e6e6e6;
            margin-top: 30px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .org h2 {
                font-size: 18px;
            }
            
            .cert-table th, .cert-table td {
                padding: 12px 15px;
                font-size: 14px;
            }
            
            .title h1 {
                font-size: 24px;
            }
            
            header {
                padding: 15px 20px;
            }
            
            .verification-section {
                padding: 20px;
            }
            
            .btn-group {
                flex-direction: column;
            }
        }

        @media (max-width: 480px) {
            .logo {
                width: 60px;
                height: 60px;
                border-radius: 30px;
            }
            
            .org h2 {
                font-size: 16px;
            }
            
            .org p {
                font-size: 12px;
            }
            
            .cert-table th, .cert-table td {
                padding: 10px 12px;
                font-size: 13px;
            }
            
            .title h1 {
                font-size: 22px;
            }
        }
    </style>
    <!-- Include html5-qrcode library -->
    <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
</head>
<body>
    <div class="container" role="main">
        <header>
            <div class="logo">
                <img src="photo_2025-12-01_23-26-08.jpg" alt="Harari Regional State Logo" style="width: 100%; height: 100%; object-fit: contain; border-radius: inherit;">
            </div>
            <div class="org">
                <h2>HARARI PEOPLE REGIONAL STATE</h2>
                <p>OCCUPATIONAL COMPETENCE ASSURANCE CENTER</p>
            </div>
        </header>

        <section class="verification-section">
            <div class="section-title">
                <h2>Certificate Verification</h2>
                <p class="instructions">Enter the Control Number or scan QR code to verify certificate validity</p>
            </div>

            <div class="example">
                <div class="example-title">Example Control Number:</div>
                <div class="example-code">50820XX</div>
            </div>

            <form id="certificate-form">
                <div class="form-group">
                    <label for="control-number">Control Number:</label>
                    <input type="text" id="control-number" placeholder="Enter control number" required>
                </div>
                
                <div class="or-divider">
                    <span>OR</span>
                </div>
                
                <div class="qr-scanner-container" id="qr-scanner-container">
                    <div id="qr-reader"></div>
                </div>
                
                <div class="btn-group">
                    <button type="submit" class="btn submit-btn">Verify Certificate</button>
                    <button type="button" class="btn qr-btn" id="scan-qr-btn">Scan QR Code</button>
                    <button type="button" class="btn cancel-scan-btn" id="cancel-scan-btn">Cancel Scan</button>
                </div>
            </form>

            <!-- Valid Certificate Result -->
            <div class="result-section" id="valid-result">
                <div class="title">
                    <h1>CERTIFICATE IS VALID</h1>
                    <p class="small">Certificate verification successful</p>
                </div>

                <div class="table-wrap">
                    <table class="cert-table" role="table" aria-label="Certificate information">
                        <tbody>
                            <tr>
                                <th scope="row">Full Name</th>
                                <td id="result-name">Jawad Jemal Umer</td>
                            </tr>
                            <tr>
                                <th scope="row">Gender</th>
                                <td id="result-gender">Male</td>
                            </tr>
                            <tr>
                                <th scope="row">Occupational Name</th>
                                <td id="result-occupation">Human Resource Management</td>
                            </tr>
                            <tr>
                                <th scope="row">Level</th>
                                <td id="result-level">4</td>
                            </tr>
                            <tr>
                                <th scope="row">Certificate Number</th>
                                <td id="result-certificate-number">BUF 16M4/24/27/0768</td>
                            </tr>
                            <tr>
                                <th scope="row">Control Number</th>
                                <td id="result-control-number">5082062</td>
                            </tr>
                            <tr>
                                <th scope="row">Issue Date</th>
                                <td id="result-issue-date">2025-11-10</td>
                            </tr>
                            <tr>
                                <th scope="row">Expire Date</th>
                                <td id="result-expire-date">2028-11-10</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Invalid Certificate Result -->
            <div class="result-section" id="invalid-result">
                <div class="invalid-result">
                    <div class="invalid-title">CERTIFICATE NOT FOUND</div>
                    <p class="invalid-message">Please check the control number and try again.</p>
                </div>
            </div>
        </section>

        <footer>
            <p>&copy; 2025 Harari People Regional State - Occupational Competence Assurance Center</p>
        </footer>
    </div>

    <script>
        // Certificate Database
        const certificateDatabase = [
            {
                controlNumber: "5083062",
                fullName: "Jawad Jemal Umer",
                gender: "Male",
                occupation: "Human Resource Management",
                level: "4",
                certificateNumber: "BUF 16M4/24/27/0768",
                issueDate: "2025-11-10",
                expireDate: "2028-11-10",
                status: "VALID"
            },
            {
                controlNumber: "5083063",
                fullName: "Amina Hassan Mohammed",
                gender: "Female",
                occupation: "Accounting and Finance",
                level: "3",
                certificateNumber: "ACC 15F3/24/18/0923",
                issueDate: "2024-05-15",
                expireDate: "2027-05-14",
                status: "VALID"
            },
            {
                controlNumber: "508060",
                fullName: "Shemshedin Ahmed Mohammed",
                gender: "Male",
                occupation: "Information Technology",
                level: "4",
                certificateNumber: "ICT 17M5/24/33/1145",
                issueDate: "2023-09-20",
                expireDate: "2026-09-19",
                status: "VALID"
            },
            {
                controlNumber: "5085062",
                fullName: "Fatima Omer Ahmed",
                gender: "Female",
                occupation: "Marketing Management",
                level: "4",
                certificateNumber: "MKT 16F4/24/27/0876",
                issueDate: "2022-12-05",
                expireDate: "2025-12-04",
                status: "VALID"
            },
            {
                controlNumber: "5083064",
                fullName: "Asha Mohammed Alisho",
                gender: "Female",
                occupation: "Information Communication Technology",
                level: "4",
                certificateNumber: "MKT 16F4/24/27/0876",
                issueDate: "2025-12-02",
                expireDate: "2028-12-02",
                status: "VALID"
            },    
            {
                controlNumber: "5080065",
                fullName: "Tariku Chalchisa Fite",
                gender: "Male",
                occupation: "Marketing Management",
                level: "4",
                certificateNumber: "MKT 16F4/24/27/0876",
                issueDate: "2022-12-05",
                expireDate: "2025-12-04",
                status: "VALID"
            },   
        ]

        // QR Code Scanner Variables
        let html5QrcodeScanner = null;
        let isScanning = false;

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Hide both result sections initially
            document.getElementById('valid-result').style.display = 'none';
            document.getElementById('invalid-result').style.display = 'none';
            
            // Handle form submission
            document.getElementById('certificate-form').addEventListener('submit', function(e) {
                e.preventDefault();
                verifyCertificate();
            });
            
            // Handle QR scan button click
            document.getElementById('scan-qr-btn').addEventListener('click', function() {
                startQRScanner();
            });
            
            // Handle cancel scan button click
            document.getElementById('cancel-scan-btn').addEventListener('click', function() {
                stopQRScanner();
            });
            
            // Initialize QR scanner
            initializeQRScanner();
        });

        function initializeQRScanner() {
            // Configuration for QR scanner
            const config = { 
                fps: 10,
                qrbox: { width: 250, height: 250 },
                rememberLastUsedCamera: true,
                supportedScanTypes: [Html5QrcodeScanType.SCAN_TYPE_CAMERA]
            };
            
            // Create scanner instance
            html5QrcodeScanner = new Html5Qrcode("qr-reader");
        }

        function startQRScanner() {
            if (isScanning) return;
            
            // Show scanner container
            document.getElementById('qr-scanner-container').style.display = 'block';
            document.getElementById('cancel-scan-btn').style.display = 'block';
            document.getElementById('scan-qr-btn').style.display = 'none';
            document.getElementById('control-number').disabled = true;
            
            // Start scanning
            html5QrcodeScanner.start(
                { facingMode: "environment" },
                config,
                onScanSuccess,
                onScanError
            ).then(() => {
                isScanning = true;
            }).catch(err => {
                console.error("Unable to start scanning", err);
                alert("Unable to access camera. Please check permissions.");
                stopQRScanner();
            });
        }

        function stopQRScanner() {
            if (html5QrcodeScanner && isScanning) {
                html5QrcodeScanner.stop().then(() => {
                    isScanning = false;
                    // Hide scanner container
                    document.getElementById('qr-scanner-container').style.display = 'none';
                    document.getElementById('cancel-scan-btn').style.display = 'none';
                    document.getElementById('scan-qr-btn').style.display = 'block';
                    document.getElementById('control-number').disabled = false;
                }).catch(err => {
                    console.error("Failed to stop scanner", err);
                });
            }
        }

        function onScanSuccess(decodedText, decodedResult) {
            console.log(`QR Code scanned: ${decodedText}`);
            
            // Stop scanning
            stopQRScanner();
            
            // Set the scanned value in the control number field
            document.getElementById('control-number').value = decodedText.trim();
            
            // Auto-verify the certificate
            setTimeout(() => {
                verifyCertificate();
            }, 500);
        }

        function onScanError(error) {
            // Handle scan errors silently
            console.warn(`QR Code scan error: ${error}`);
        }

        function verifyCertificate() {
            const controlNumber = document.getElementById('control-number').value.trim();
            const validResult = document.getElementById('valid-result');
            const invalidResult = document.getElementById('invalid-result');
            
            // Hide both results first
            validResult.style.display = 'none';
            invalidResult.style.display = 'none';
            
            // Find certificate
            const certificate = certificateDatabase.find(cert => cert.controlNumber === controlNumber);
            
            if (certificate) {
                // Update result fields
                document.getElementById('result-name').textContent = certificate.fullName;
                document.getElementById('result-gender').textContent = certificate.gender;
                document.getElementById('result-occupation').textContent = certificate.occupation;
                document.getElementById('result-level').textContent = certificate.level;
                document.getElementById('result-certificate-number').textContent = certificate.certificateNumber;
                document.getElementById('result-control-number').textContent = certificate.controlNumber;
                document.getElementById('result-issue-date').textContent = certificate.issueDate;
                document.getElementById('result-expire-date').textContent = certificate.expireDate;
                
                // Show valid result
                validResult.style.display = 'block';
                
                // Scroll to results
                validResult.scrollIntoView({ behavior: 'smooth', block: 'start' });
            } else {
                // Show invalid result
                invalidResult.style.display = 'block';
                
                // Scroll to results
                invalidResult.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }
    </script>
</body>
</html>
